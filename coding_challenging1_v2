import os

def main():

	abspath = input("Absolute path for the directory: ")
	readinType = '.py'
	files = Readdir(abspath,readinType)

	lines = []

	for i in range(0,len(files)-1):
		fi = open(abspath+"/"+files[i])
		lineIndex = 1
		for line1 in fi:
			nlines = 0
			for j in range (i+1,len(files)):
				fj = open(abspath+"/"+files[j])
				for line2 in fj:
					if line1.strip()==line2.strip():
						nlines+=1
			lineIndex+=1
			if line1.strip() != "" and nlines!=0:
				lines.append([files[i],lineIndex,line1.strip(),nlines])

	print(lines)


def Readdir(path,readinType):
	'''Read names of files in a given directory.
	'''
	return [filename for filename in os.listdir( path ) if filename.endswith( readinType )]
		

main()
